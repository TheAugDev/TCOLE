<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch. 33 Study Guide: Texas Penal Code</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --header-bg: #1f2937; /* Dark Gray */
            --bg-color: #f3f4f6; /* Light Gray */
            --tab-active-bg: #ef4444; /* Red */
            --tab-active-text: #ffffff;
            --card-bg: #ffffff;
            --text-color: #111827;
            --link-color: #dc2626; /* Red Link */
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
        }
        @import url('https://rsms.me/inter/inter.css');
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .tab.active {
            background-color: var(--tab-active-bg);
            color: var(--tab-active-text);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .tab {
            transition: all 0.3s ease-in-out;
        }
        .definition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }
        .definition-item {
            background-color: #f9fafb;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }
        .definition-term {
            font-weight: 600;
            color: #111827;
        }
        .definition-desc {
            font-size: 0.875rem;
            color: #4b5563;
        }
        .quiz-question p { margin-bottom: 0.5rem; }
        .quiz-question label { display: block; margin-bottom: 0.5rem; padding: 0.5rem; border: 1px solid #e5e7eb; border-radius: 0.375rem; cursor: pointer; transition: background-color 0.2s; }
        .quiz-question label:hover { background-color: #f9fafb; }
        .quiz-question input[type="radio"] { margin-right: 0.5rem; }
        .feedback { margin-top: 0.5rem; padding: 0.5rem; border-radius: 0.375rem; font-size: 0.875rem; }
        .feedback.correct { background-color: #dcfce7; color: #166534; }
        .feedback.incorrect { background-color: #fee2e2; color: #991b1b; }
        .feedback.unanswered { background-color: #ffedd5; color: #9a3412; }
        .hidden { display: none; }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-gray-800 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold">
                <i class="fas fa-laptop-code mr-2"></i>Ch. 33: Computer Crimes
            </h1>
            <a href="index.html" class="text-sm text-red-300 hover:text-red-100 hover:underline">
                <i class="fas fa-arrow-left mr-1"></i> Back to Main Page
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-6">
        <!-- Tab Navigation -->
        <div class="mb-6 bg-white rounded-lg shadow-md overflow-x-auto">
            <nav id="tabs" class="flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-1 p-2">
                <button data-tab="key-definitions" class="tab active flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-book mr-2"></i> Definitions (33.01)
                </button>
                <button data-tab="breach-security" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-shield-halved mr-2"></i> Breach of Security (33.02)
                </button>
                <button data-tab="data-tampering" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-file-excel mr-2"></i> Data Tampering (33.022-024)
                </button>
                <button data-tab="online-offenses" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-user-secret mr-2"></i> Online Offenses (33.021, 33.07)
                </button>
                <button data-tab="other-offenses" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-vote-yea mr-2"></i> Other Offenses (33.03-05)
                </button>
                <button data-tab="knowledge-check" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-question-circle mr-2"></i> Knowledge Check
                </button>
                <button data-tab="resources" class="tab flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg text-gray-600 hover:bg-red-100">
                    <i class="fas fa-link mr-2"></i> Resources
                </button>
            </nav>
        </div>

        <!-- Tab Content -->
        <div id="tab-contents">
            <!-- Key Definitions Tab -->
            <div id="key-definitions" class="tab-content active">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Key Definitions (Sec. 33.01)</h2>
                    <div class="definition-grid">
                        <div class="definition-item">
                            <span class="definition-term">Access</span>
                            <p class="definition-desc">To approach, instruct, communicate with, store data in, retrieve/intercept data from, alter data/software, or otherwise make use of any resource of a computer.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Aggregate amount</span>
                            <p class="definition-desc">(A) Direct/indirect loss by victim (value stolen, etc.); OR (B) Expenditure required by victim to determine/restore data/system.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Computer</span>
                            <p class="definition-desc">An electronic, magnetic, optical, etc., high-speed data processing device that performs logical, arithmetic, or memory functions.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Computer network</span>
                            <p class="definition-desc">Interconnection of 2 or more computers or systems with capability to transmit info between them.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Computer virus</span>
                            <p class="definition-desc">Unwanted program/instructions inserted into memory/OS/program, constructed with ability to replicate itself or affect other programs/files.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Critical infrastructure facility</span>
                            <p class="definition-desc">Includes: chemical plant, refinery, electrical power facility, water treatment, natural gas compressor, telecommunications switching office, port, etc.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Data</span>
                            <p class="definition-desc">A representation of information, knowledge, facts, concepts, or instructions prepared/being prepared/stored/processed in a computer.</p>
                        </div>
                         <div class="definition-item">
                            <span class="definition-term">Decryption</span>
                            <p class="definition-desc">The decoding of encrypted communications or information (by key, breaking formula, or interfering with encryption service).</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Effective consent</span>
                            <p class="definition-desc">Consent is NOT effective if: (A) induced by deception/coercion; (B) given by person actor knows is not authorized; (C) given by person unable (youth, mental defect, intox); (D) given solely to detect offense; (E) used for purpose other than for which it was given.</p>
                        </div>
                         <div class="definition-item">
                            <span class="definition-term">Encrypted private information</span>
                            <p class="definition-desc">Encrypted data, docs, or communications stored on a computer/system that has not been accessible to the public.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Harm</span>
                            <p class="definition-desc">Includes partial/total alteration, damage, or erasure of data, interruption of services, introduction of virus, or any other loss, disadvantage, or injury.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Owner</span>
                            <p class="definition-desc">(A) Has title or possession; (B) Has right to restrict access; (C) Is the licensee of data/software.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Privileged information</span>
                            <p class="definition-desc">(A) Protected health information (HIPAA); (B) Attorney-client privilege; (C) Accountant-client confidentiality.</p>
                        </div>
                        <div class="definition-item">
                            <span class="definition-term">Property</span>
                            <p class="definition-desc">(A) Tangible/intangible property (computer, software, data); OR (B) The *use* of a computer, software, or data.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Breach of Security Tab -->
            <div id="breach-security" class="tab-content space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.02" target="_blank" class="text-red-600 hover:underline">Sec. 33.02. Breach of Computer Security</a></h2>
                    
                    <h3 class="text-lg font-semibold mt-4">Subsection (a) - Simple Access</h3>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (a):</strong> A person commits an offense if the person <strong class="font-semibold">knowingly accesses</strong> a computer, computer network, or computer system <strong class="font-semibold">without the effective consent</strong> of the owner.</li>
                        <li><strong class="font-semibold">Penalty (b):</strong> <strong class="text-red-700">Class B Misdemeanor</strong>.</li>
                        <li><strong class="font-semibold">Enhancement (b):</strong> Becomes a <strong class="text-red-700">State Jail Felony</strong> if:
                            <ol class="list-decimal list-inside ml-4">
                                <li>Defendant has <strong class="font-semibold">2 or more prior convictions</strong> under this chapter; OR</li>
                                <li>The computer/system is owned by the <strong class="font-semibold">government</strong> or a <strong class="font-semibold">critical infrastructure facility</strong>.</li>
                            </ol>
                        </li>
                    </ul>

                    <h3 class="text-lg font-semibold mt-6">Subsection (b-1) - Access with Intent to Harm/Defraud</h3>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (b-1):</strong> Commits offense if, <strong class="font-semibold">with intent to defraud or harm another or alter, damage, or delete property</strong>, the person knowingly accesses a computer/system... (w/o effective consent OR in violation of a clear prohibition/contract).</li>
                        <li><strong class="font-semibold">Penalties (b-2):</strong> Follows the standard <strong class="font-semibold">theft value ladder</strong> based on "aggregate amount".
                            <ul class="list-disc list-inside ml-4">
                                <li><strong class="text-red-700">Class C Misdemeanor:</strong> < $100</li>
                                <li><strong class="text-red-700">Class B Misdemeanor:</strong> $100 - $749.99</li>
                                <li><strong class="text-red-700">Class A Misdemeanor:</strong> $750 - $2,499.99</li>
                                <li><strong class="text-red-700">State Jail Felony:</strong> $2,500 - $29,999.99</li>
                                <li><strong class="text-red-700">Felony of the Third Degree:</strong> $30,000 - $149,999.99</li>
                            </ul>
                        </li>
                        <li><strong class="font-semibold">F2 / F1 Enhancements (b-2):</strong>
                            <ul class="list-disc list-inside ml-4">
                                <li><strong class="text-red-800">Felony of the Second Degree:</strong>
                                    <ul>
                                        <li>(A) $150,000 - $299,999.99; OR</li>
                                        <li>(B) Any amount < $300k AND computer is <strong class="font-semibold">govt or critical infrastructure</strong>; OR</li>
                                        <li>(C) Actor obtains <strong class="font-semibold">identifying information</strong> from <strong class="font-semibold">only one</strong> computer.</li>
                                    </ul>
                                </li>
                                <li><strong class="text-red-800">Felony of the First Degree:</strong>
                                    <ul>
                                        <li>(A) $300,000 or more; OR</li>
                                        <li>(B) Actor obtains <strong class="font-semibold">identifying information</strong> from <strong class="font-semibold">more than one</strong> computer.</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    
                    <h3 class="text-lg font-semibold mt-6">Other Provisions</h3>
                     <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Aggregation (c):</strong> Amounts from one scheme/continuing course of conduct may be aggregated.</li>
                        <li><strong class="font-semibold">Defense (e):</strong> Actor intended to facilitate a <strong class="font-semibold">lawful seizure or search</strong> for law enforcement.</li>
                        <li><strong class="font-semibold">Defense (f):</strong> Actor was under contract for <strong class="font-semibold">security testing</strong> (pen testing).</li>
                    </ul>
                </div>
            </div>

            <!-- Data Tampering Tab -->
            <div id="data-tampering" class="tab-content space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.022" target="_blank" class="text-red-600 hover:underline">Sec. 33.022. Electronic Access Interference</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (a):</strong> Person <strong class="font-semibold">intentionally interrupts or suspends access</strong> to a computer system/network without effective consent.</li>
                        <li><strong class="font-semibold">Penalty (b):</strong> <strong class="text-red-700">Felony of the Third Degree</strong>.</li>
                        <li><strong class="font-semibold">Defense (c):</strong> Acted for a legitimate law enforcement purpose.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.023" target="_blank" class="text-red-600 hover:underline">Sec. 33.023. Electronic Data Tampering</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">"Ransomware" (a):</strong> Computer contaminant/lock that restricts access, where a person demands money/property to remove it.</li>
                        <li><strong class="font-semibold">Offense (b):</strong> Intentionally <strong class="font-semibold">alters data as it transmits</strong> (through deception, no legit purpose).</li>
                        <li><strong class="font-semibold">Offense (c):</strong> Intentionally <strong class="font-semibold">introduces ransomware</strong> (through deception, no legit purpose).</li>
                        <li><strong class="font-semibold">Penalties (d-1):</strong> If <strong class="font-semibold">intent to defraud/harm</strong>, follows the standard <strong class="font-semibold">theft value ladder</strong> (Class C to F1).</li>
                        <li><strong class="font-semibold">Enhanced Penalties (d-2):</strong> If actor knowingly restricted access to <strong class="font-semibold">Privileged Information</strong>:
                             <ul class="list-disc list-inside ml-4">
                                <li><strong class="text-red-700">State Jail Felony:</strong> Base offense (value < $2,500).</li>
                                <li><strong class="text-red-700">Felony 3:</strong> Value $2,500 - $29,999 OR <strong class="font-semibold">harm to client/patient</strong>.</li>
                                <li><strong class="text-red-800">Felony 2:</strong> Value $30,000 - $149,999 OR <strong class="font-semibold">bodily injury to client/patient</strong>.</li>
                                <li><strong class="text-red-800">Felony 1:</strong> Value $150,000+ OR <strong class="font-semibold">SBI/death to client/patient</strong>.</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.024" target="_blank" class="text-red-600 hover:underline">Sec. 33.024. Unlawful Decryption</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (a):</strong> Person <strong class="font-semibold">intentionally decrypts encrypted private information</strong> (through deception, no legit purpose).</li>
                        <li><strong class="font-semibold">Penalties (b-1):</strong> If <strong class="font-semibold">intent to defraud/harm</strong>, follows the standard <strong class="font-semibold">theft value ladder</strong> (Class C to F1).</li>
                        <li><strong class="font-semibold">Enhanced Penalties (b-2):</strong> If actor knowingly decrypted <strong class="font-semibold">Privileged Information</strong>:
                             <ul class="list-disc list-inside ml-4">
                                <li><strong class="text-red-700">State Jail Felony:</strong> Base offense (value < $2,500).</li>
                                <li><strong class="text-red-700">Felony 3:</strong> Value $2,500 - $29,999 OR <strong class="font-semibold">harm to client/patient</strong>.</li>
                                <li><strong class="text-red-800">Felony 2:</strong> Value $30,000 - $149,999 OR <strong class="font-semibold">bodily injury to client/patient</strong>.</li>
                                <li><strong class="text-red-800">Felony 1:</strong> Value $150,000+ OR <strong class="font-semibold">SBI/death to client/patient</strong>.</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Online Offenses Tab -->
            <div id="online-offenses" class="tab-content space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.021" target="_blank" class="text-red-600 hover:underline">Sec. 33.021. Online Solicitation of a Minor</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">"Minor" (a)(1):</strong> An individual <strong class="font-semibold">younger than 17</strong> OR whom the actor <strong class="font-semibold">believes to be younger than 17</strong>.</li>
                        <li><strong class="font-semibold">Offense (b):</strong> Adult (17+) with <strong class="font-semibold">intent to commit a listed sex offense</strong>, intentionally (1) communicates in <strong class="font-semibold">sexually explicit manner</strong> with minor; OR (2) <strong class="font-semibold">distributes sexually explicit material</strong> to minor.</li>
                        <li><strong class="font-semibold">Offense (c):</strong> Knowingly <strong class="font-semibold">solicits a minor to meet</strong> another person (including actor) with <strong class="font-semibold">intent for sexual contact</strong>/intercourse.</li>
                        <li><strong class="font-semibold">Penalties (f):</strong>
                            <ul class="list-disc list-inside ml-4">
                                <li>Offense (b): <strong class="text-red-700">Felony of the Third Degree</strong>.</li>
                                <li>Offense (b) Enhancement: Becomes <strong class="text-red-800">Felony of the Second Degree</strong> if minor is <strong class="font-semibold">< 14</strong> (or believed < 14).</li>
                                <li>Offense (c): <strong class="text-red-800">Felony of the Second Degree</strong>.</li>
                            </ul>
                        </li>
                        <li><strong class="font-semibold">Enhancement (f-1):</strong> Increased to <strong class="font-semibold">next higher category</strong> if committed during regular <strong class="font-semibold">school hours</strong> and actor knew/should have known minor was enrolled.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.07" target="_blank" class="text-red-600 hover:underline">Sec. 33.07. Online Impersonation</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (a):</strong> W/o consent + <strong class="font-semibold">intent to harm, defraud, intimidate, or threaten</strong>, uses name/persona to: (1) <strong class="font-semibold">create a web page</strong> / social networking site; OR (2) <strong class="font-semibold">post/send messages</strong> on such a site.</li>
                        <li><strong class="font-semibold">Offense (b):</strong> W/o consent + <strong class="font-semibold">intent to harm or defraud</strong> + intent to make recipient believe sender was other person, <strong class="font-semibold">sends an email, text, or IM</strong>.</li>
                        <li><strong class="font-semibold">Penalties (c):</strong>
                            <ul class="list-disc list-inside ml-4">
                                <li>Offense (a) (Webpage/Post): <strong class="text-red-700">Felony of the Third Degree</strong>.</li>
                                <li>Offense (b) (Email/Text): <strong class="text-red-700">Class A Misdemeanor</strong>.</li>
                                <li>Offense (b) Enhancement: Becomes <strong class="text-red-700">Felony of the Third Degree</strong> if intent was to <strong class="font-semibold">solicit emergency personnel</strong> ("swatting").</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Other Offenses Tab -->
            <div id="other-offenses" class="tab-content space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.05" target="_blank" class="text-red-600 hover:underline">Sec. 33.05. Tampering with Direct Recording Electronic Voting Machine</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Offense (b):</strong> Knowingly accesses a voting machine system and:
                            <ol class="list-decimal list-inside ml-4">
                                <li>Prevents a person from lawfully voting;</li>
                                <li>Changes a lawfully cast vote;</li>
                                <li>Prevents a lawfully cast vote from being counted; OR</li>
                                <li>Causes a vote *not* lawfully cast to be counted.</li>
                            </ol>
                        </li>
                        <li><strong class="font-semibold">Penalty (d):</strong> <strong class="text-red-800">Felony of the First Degree</strong>.</li>
                        <li><strong class="font-semibold">Penalty for Attempt (e):</strong> An *attempt* (15.01) to commit this offense is a <strong class="text-red-700">Felony of the Third Degree</strong>.</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2"><a href="https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.03" target="_blank" class="text-red-600 hover:underline">Sec. 33.03 & 33.04. Defenses & Assistance</a></h2>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2">
                        <li><strong class="font-semibold">Sec. 33.03. Defenses:</strong> It is an <strong class="font-semibold">affirmative defense</strong> to 33.02 (Breach) and 33.022 (Interference) that the actor was an employee of a <strong class="font-semibold">communication common carrier</strong> or <strong class="font-semibold">electric utility</strong> acting in the course of employment.</li>
                        <li><strong class="font-semibold">Sec. 33.04. Assistance by Attorney General:</strong> The AG may assist a prosecuting attorney in investigating or prosecuting an offense under this chapter.</li>
                    </ul>
                </div>
            </div>

            <!-- Knowledge Check Tab -->
            <div id="knowledge-check" class="tab-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">Knowledge Check (Ch. 33)</h2>
                    <p class="mb-6 text-gray-600">Test your understanding of the material. (60 Questions)</p>
                    <div id="quiz-container" class="space-y-8">
                        <!-- Questions will be dynamically inserted here -->
                    </div>
                    <!-- Results Div -->
                    <div id="quiz-results" class="hidden mt-8 text-center">
                        <h3 class="text-2xl font-bold" id="quiz-score"></h3>
                        <p class="text-lg text-gray-700" id="quiz-percentage"></p>
                    </div>
                    <!-- Button Container -->
                    <div class="mt-8 text-center space-x-4">
                        <button id="check-answers-btn" class="bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition-colors">Submit Answers</button>
                        <button id="retake-quiz-btn" class="hidden bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition-colors">Retake Quiz</button>
                    </div>
                </div>
            </div>

            <!-- Resources Tab -->
            <div id="resources" class="tab-content">
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-2xl font-bold mb-4">External Resources</h2>
                    <p class="mb-6 text-gray-600">Quick links to official Texas statutes and related definitions.</p>
                    <div id="resources-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                        <!-- Links will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('#tabs button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab).classList.add('active');
                });
            });

            // --- QUIZ DATA (CHAPTER 33) ---
            const quizData = [
                {
                    question: "Under 33.01, 'Access' means to:",
                    options: ["Only retrieve or intercept data from a computer.", "Only alter data or computer software in a computer.", "Approach, instruct, communicate with, store data, retrieve/intercept data, alter data, or otherwise make use of any resource.", "Physically touch a computer."],
                    answer: "Approach, instruct, communicate with, store data, retrieve/intercept data, alter data, or otherwise make use of any resource.",
                    explanation: "Sec. 33.01(1) provides a very broad definition for 'Access'."
                },
                {
                    question: "Which of the following is NOT included in the definition of 'Aggregate amount' under 33.01(2)?",
                    options: ["Value of money or property stolen.", "Expenditure required by the victim to restore data.", "Expenditure required to determine if data was altered.", "The actor's intended, but unrealized, profit."],
                    answer: "The actor's intended, but unrealized, profit.",
                    explanation: "Sec. 33.01(2) defines 'Aggregate amount' based on the victim's loss or expenditure, not the actor's intended gain."
                },
                {
                    question: "Which of these is NOT a 'Critical infrastructure facility' under 33.01(10-a)?",
                    options: ["A refinery.", "An electrical power generating facility.", "A residential apartment complex.", "A telecommunications central switching office."],
                    answer: "A residential apartment complex.",
                    explanation: "Sec. 33.01(10-a) lists facilities like power plants, refineries, and water treatment, not residential buildings."
                },
                {
                    question: "Under 33.01(12), consent is NOT effective if it is:",
                    options: ["Given by a person legally authorized to act for the owner.", "Used for the exact purpose for which it was given.", "Given by a person the actor knows is not legally authorized to act for the owner.", "Given in writing."],
                    answer: "Given by a person the actor knows is not legally authorized to act for the owner.",
                    explanation: "Sec. 33.01(12)(B) states consent is not effective if given by a person the actor knows is not legally authorized."
                },
                {
                    question: "Which of the following IS 'Harm' under 33.01(14)?",
                    options: ["Introduction of a computer virus.", "Reading public data.", "Using a computer with consent.", "Normal wear and tear on a device."],
                    answer: "Introduction of a computer virus.",
                    explanation: "Sec. 33.01(14) explicitly includes 'introduction of a computer virus' as harm."
                },
                {
                    question: "What is 'Privileged information' under 33.01(15-a)?",
                    options: ["Any data marked 'confidential'.", "Protected health information, attorney-client privilege, or accountant-client confidentiality.", "A company's trade secrets.", "A person's social security number."],
                    answer: "Protected health information, attorney-client privilege, or accountant-client confidentiality.",
                    explanation: "Sec. 33.01(15-a) specifically lists these three types of privileged information."
                },
                {
                    question: "What is the base offense under Sec. 33.02(a)?",
                    options: ["Knowingly accesses a computer... with intent to defraud.", "Knowingly accesses a computer... and causes harm.", "Knowingly accesses a computer... without the effective consent of the owner.", "Knowingly accesses a computer... and introduces a virus."],
                    answer: "Knowingly accesses a computer... without the effective consent of the owner.",
                    explanation: "Sec. 33.02(a) is the base offense of simple access without effective consent."
                },
                {
                    question: "What is the base penalty for Breach of Computer Security (33.02a)?",
                    options: ["Class C Misdemeanor", "Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony"],
                    answer: "Class B Misdemeanor",
                    explanation: "Sec. 33.02(b) sets the base penalty as a Class B Misdemeanor."
                },
                {
                    question: "Breach of Computer Security (33.02a) is enhanced to a State Jail Felony if:",
                    options: ["The actor has one prior conviction.", "The computer is owned by the government or a critical infrastructure facility.", "The actor causes more than $100 in damage.", "The actor accesses the computer from another state."],
                    answer: "The computer is owned by the government or a critical infrastructure facility.",
                    explanation: "Sec. 33.02(b)(2) provides this enhancement. It also enhances for 2 or more priors."
                },
                {
                    question: "What *intent* is required for the offense under 33.02(b-1)?",
                    options: ["Intent to browse files.", "Intent to test the system's security.", "Intent to defraud or harm another or alter, damage, or delete property.", "Intent to use the computer for personal email."],
                    answer: "Intent to defraud or harm another or alter, damage, or delete property.",
                    explanation: "Sec. 33.02(b-1) requires this specific higher-level intent."
                },
                {
                    question: "The penalties for 33.02(b-1) (Breach with Intent to Harm/Defraud) are based on what?",
                    options: ["A flat State Jail Felony.", "The type of computer accessed.", "The aggregate amount of loss/cost, following the theft ladder.", "The number of files accessed."],
                    answer: "The aggregate amount of loss/cost, following the theft ladder.",
                    explanation: "Sec. 33.02(b-2) maps the penalties to the value ladder in 31.03(e)."
                },
                {
                    question: "Under 33.02(b-2), if a person accesses a government computer with intent to harm, and causes $1,000 in damage, what is the penalty?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "Felony of the Second Degree",
                    explanation: "The value of $1,000 is normally a Class A Misd. However, (b-2)(6)(B) enhances the offense to an F2 if the computer is owned by the government."
                },
                {
                    question: "Under 33.02(b-2), what is the penalty for obtaining identifying information from *only one* computer?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "Felony of the Second Degree",
                    explanation: "Sec. 33.02(b-2)(6)(C) makes this an F2."
                },
                {
                    question: "Under 33.02(b-2), what is the penalty for obtaining identifying information from *more than one* computer?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the First Degree",
                    explanation: "Sec. 33.02(b-2)(7)(B) makes this an F1."
                },
                {
                    question: "Which of these is a valid defense to prosecution under 33.02?",
                    options: ["The actor was a security researcher testing the system without a contract.", "The actor was an employee accessing data they were curious about.", "The actor was facilitating a lawful search for a legitimate law enforcement purpose.", "The actor did not cause more than $100 in damage."],
                    answer: "The actor was facilitating a lawful search for a legitimate law enforcement purpose.",
                    explanation: "Sec. 33.02(e) provides this as a defense."
                },
                {
                    question: "What is the definition of 'Minor' for Online Solicitation of a Minor (33.021)?",
                    options: ["Younger than 18.", "Younger than 17, or whom the actor believes to be younger than 17.", "Younger than 16.", "Younger than 14."],
                    answer: "Younger than 17, or whom the actor believes to be younger than 17.",
                    explanation: "Sec. 33.021(a)(1) provides this definition."
                },
                {
                    question: "An adult (17+) communicates sexually explicit material to a 15-year-old with intent to commit a sex offense. What is the penalty under 33.021(f)?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.021(f) makes an offense under (b) an F3."
                },
                {
                    question: "An adult (17+) communicates sexually explicit material to a 13-year-old with intent to commit a sex offense. What is the penalty under 33.021(f)?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Second Degree",
                    explanation: "Sec. 33.021(f) enhances the offense to an F2 if the minor is younger than 14."
                },
                {
                    question: "An adult solicits a 15-year-old to meet for sexual intercourse. What is the penalty under 33.021(f)?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Second Degree",
                    explanation: "Sec. 33.021(f) makes an offense under (c) (soliciting to meet) an F2, regardless of the minor's age (as long as they are < 17)."
                },
                {
                    question: "The penalty for Online Solicitation of a Minor (33.021) is increased to the next higher category if:",
                    options: ["The actor used a school computer.", "The actor is a teacher.", "The offense was committed during regular school hours.", "The actor has a prior conviction."],
                    answer: "The offense was committed during regular school hours.",
                    explanation: "Sec. 33.021(f-1) provides this enhancement if the actor knew/should have known the minor was enrolled in school."
                },
                {
                    question: "What is the offense of Electronic Access Interference (33.022)?",
                    options: ["Knowingly accessing a computer w/o consent.", "Intentionally interrupting or suspending access to a computer system/network w/o consent.", "Altering data as it transmits.", "Introducing ransomware."],
                    answer: "Intentionally interrupting or suspending access to a computer system/network w/o consent.",
                    explanation: "Sec. 33.022(a) defines this 'denial of service' type offense."
                },
                {
                    question: "What is the penalty for Electronic Access Interference (33.022)?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.022(b) sets the penalty as a flat F3."
                },
                {
                    question: "What is 'Ransomware' under 33.023?",
                    options: ["Any computer virus.", "A contaminant/lock that restricts access, where a person demands money to remove it.", "Software that steals data.", "Software used for security testing."],
                    answer: "A contaminant/lock that restricts access, where a person demands money to remove it.",
                    explanation: "Sec. 33.023(a) provides this definition."
                },
                {
                    question: "A person commits Electronic Data Tampering (33.023) by introducing ransomware with intent to defraud, causing $5,000 in loss. What is the penalty?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "State Jail Felony",
                    explanation: "Sec. 33.023(d-1) follows the theft ladder. $5,000 falls in the SJF range ($2,500 - $29,999.99)."
                },
                {
                    question: "A person introduces ransomware onto a hospital's computer, restricting access to patient medical records (privileged info). What is the *minimum* penalty under 33.023(d-2)?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "State Jail Felony",
                    explanation: "Sec. 33.023(d-2)(1) makes the offense an SJF if privileged information is restricted, even if the value is low."
                },
                {
                    question: "A person introduces ransomware (33.023) restricting privileged info, and a patient suffers *bodily injury* as a result. What is the penalty?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Second Degree",
                    explanation: "Sec. 33.023(d-2)(3)(B) enhances to F2 if a client/patient suffers bodily injury."
                },
                {
                    question: "A person introduces ransomware (33.023) restricting privileged info, and a patient *dies* as a result. What is the penalty?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the First Degree",
                    explanation: "Sec. 33.023(d-2)(4)(B) enhances to F1 if a client/patient suffers SBI or death."
                },
                {
                    question: "What is the offense of Unlawful Decryption (33.024)?",
                    options: ["Forgetting your own password.", "Intentionally decrypting encrypted private information through deception and without a legitimate purpose.", "Selling encryption software.", "Using a VPN."],
                    answer: "Intentionally decrypting encrypted private information through deception and without a legitimate purpose.",
                    explanation: "Sec. 33.024(a) defines the offense."
                },
                {
                    question: "The penalty structure for Unlawful Decryption (33.024) is:",
                    options: ["A flat F3.", "A flat SJF.", "Identical to Electronic Data Tampering (theft ladder, with enhancement for privileged info).", "A Class A Misdemeanor."],
                    answer: "Identical to Electronic Data Tampering (theft ladder, with enhancement for privileged info).",
                    explanation: "The penalty subsections (b-1) and (b-2) of 33.024 are identical to (d-1) and (d-2) of 33.023."
                },
                {
                    question: "Sec. 33.03 provides an affirmative defense for employees of which entities?",
                    options: ["Any technology company.", "Law enforcement agencies.", "Communication common carriers and electric utilities.", "Government agencies and schools."],
                    answer: "Communication common carriers and electric utilities.",
                    explanation: "Sec. 33.03 specifically names these two types of entities for the defense."
                },
                {
                    question: "Which of these acts constitutes Tampering with a DRE Voting Machine (33.05)?",
                    options: ["Encouraging someone not to vote.", "Accessing the machine and changing a lawfully cast vote.", "Donating to a political campaign.", "Accessing public election results online."],
                    answer: "Accessing the machine and changing a lawfully cast vote.",
                    explanation: "Sec. 33.05(b)(2) lists this as one of the prohibited acts."
                },
                {
                    question: "What is the penalty for Tampering with a DRE Voting Machine (33.05)?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the First Degree",
                    explanation: "Sec. 33.05(d) sets the penalty as an F1."
                },
                {
                    question: "What is the penalty for *Attempted* Tampering with a DRE Voting Machine (33.05)?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.05(e) explicitly states an attempt (15.01) is an F3."
                },
                {
                    question: "A person creates a fake social media profile of their ex-boss with intent to harm them. What offense?",
                    options: ["Harassment (42.07)", "Stalking (42.072)", "Online Impersonation (33.07a)", "Online Impersonation (33.07b)"],
                    answer: "Online Impersonation (33.07a)",
                    explanation: "Sec. 33.07(a) covers creating a webpage/profile on a social networking site."
                },
                {
                    question: "What is the penalty for Online Impersonation (33.07a) (creating a fake profile)?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.07(c) makes an offense under (a) an F3."
                },
                {
                    question: "A person sends a text message that appears to be from 'Bank of America' with intent to defraud the recipient. What offense?",
                    options: ["Theft", "Online Impersonation (33.07a)", "Online Impersonation (33.07b)", "Deceptive Business Practice (32.42)"],
                    answer: "Online Impersonation (33.07b)",
                    explanation: "Sec. 33.07(b) covers sending an email, text, or IM that references another's identifying info with intent to harm or defraud."
                },
                {
                    question: "What is the base penalty for Online Impersonation (33.07b) (sending a fake text/email)?",
                    options: ["Class C Misdemeanor", "Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony"],
                    answer: "Class A Misdemeanor",
                    explanation: "Sec. 33.07(c) makes an offense under (b) a Class A Misdemeanor."
                },
                {
                    question: "A person sends a fake text (33.07b) with the intent to cause police to be sent to the victim's house. What is the penalty?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.07(c) enhances the penalty for an offense under (b) to an F3 if committed 'with the intent to solicit a response by emergency personnel'."
                },
                {
                    question: "Under 33.01, 'Aggregate amount' can be the expenditure required by the victim to do what?",
                    options: ["Purchase a new computer system.", "Hire a lawyer.", "Determine whether data was altered or restore data.", "Pay the ransom in a ransomware attack."],
                    answer: "Determine whether data was altered or restore data.",
                    explanation: "Sec. 33.01(2)(B) includes the cost to 'determine whether' data was disrupted and to 'restore, recover, or replace' it."
                },
                {
                    question: "Under 33.01, 'Effective consent' is NOT effective if it was given solely to...",
                    options: ["Allow a repair.", "Allow an employee to work.", "Detect the commission of an offense.", "Allow a family member to use the computer."],
                    answer: "Detect the commission of an offense.",
                    explanation: "Sec. 33.01(12)(D) states consent is not effective if 'given solely to detect the commission of an offense'."
                },
                {
                    question: "What is the definition of 'Property' under 33.01(16)?",
                    options: ["Only tangible personal property like a laptop.", "Only data or computer software.", "Real property and land.", "Tangible/intangible property (computer, data, software) OR the *use* of a computer, data, or software."],
                    answer: "Tangible/intangible property (computer, data, software) OR the *use* of a computer, data, or software.",
                    explanation: "Sec. 33.01(16) provides a broad definition that includes the *use* of the computer/data as property itself."
                },
                {
                    question: "A person is convicted of Breach of Computer Security (33.02a) for the third time. What is the penalty?",
                    options: ["Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree"],
                    answer: "State Jail Felony",
                    explanation: "Sec. 33.02(b)(1) enhances the offense to an SJF if the defendant 'has been previously convicted two or more times'."
                },
                {
                    question: "What is the key difference between the offense in 33.02(a) and 33.02(b-1)?",
                    options: ["The type of computer accessed.", "The time of day.", "The 33.02(b-1) offense requires an 'intent to defraud or harm another or alter, damage, or delete property'.", "The 33.02(a) offense requires causing damage."],
                    answer: "The 33.02(b-1) offense requires an 'intent to defraud or harm another or alter, damage, or delete property'.",
                    explanation: "Sec. 33.02(a) is simple 'knowing access w/o consent', while (b-1) adds the specific intent to cause harm, defraud, or damage."
                },
                {
                    question: "Under 33.02(c), if a person breaches security multiple times as part of one scheme, the conduct may be...",
                    options: ["Considered as one offense and the values aggregated.", "Prosecuted separately for each day.", "Enhanced to an F1 automatically.", "Dismissed as a continuing offense."],
                    answer: "Considered as one offense and the values aggregated.",
                    explanation: "Sec. 33.02(c) allows for aggregation 'whether or not in a single incident'."
                },
                {
                    question: "It is a defense to 33.02(b-1)(2) (accessing in violation of prohibition) if the actor was...",
                    options: ["A former employee.", "Acting pursuant to a contract for security testing.", "A curious student.", "A competitor."],
                    answer: "Acting pursuant to a contract for security testing.",
                    explanation: "Sec. 33.02(f) provides this 'white-hat hacker' defense for contracted security testing."
                },
                {
                    question: "Which of the following is NOT a defense to Online Solicitation of a Minor (33.021)?",
                    options: ["The actor was married to the minor.", "The actor was not more than three years older than the minor and the minor consented.", "The meeting did not occur.", "All are defenses."],
                    answer: "The meeting did not occur.",
                    explanation: "Sec. 33.021(d) explicitly states: 'It is not a defense... that the meeting did not occur.'"
                },
                {
                    question: "What is the penalty for Electronic Data Tampering (33.023) if the actor's intent *cannot* be determined?",
                    options: ["Class C Misdemeanor", "Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony"],
                    answer: "Class C Misdemeanor",
                    explanation: "Sec. 33.023(d) sets the base penalty as a Class C Misdemeanor. (d-1) requires 'intent to defraud or harm' for the value ladder."
                },
                {
                    question: "Which offense involves 'intentionally decrypting encrypted private information through deception'?",
                    options: ["33.02 (Breach of Computer Security)", "33.022 (Electronic Access Interference)", "33.023 (Electronic Data Tampering)", "33.024 (Unlawful Decryption)"],
                    answer: "33.024 (Unlawful Decryption)",
                    explanation: "Sec. 33.024(a) defines this offense."
                },
                {
                    question: "Unlawful Decryption (33.024) of 'Privileged Information' that results in 'harm' to a patient (but not BI) is what penalty?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the Third Degree",
                    explanation: "Sec. 33.024(b-2)(2)(B) enhances to an F3 if 'a client or patient... suffered harm'."
                },
                {
                    question: "Who may assist a prosecuting attorney in a computer crime case, if requested?",
                    options: ["The FBI", "The Attorney General", "The Texas Rangers", "A private security firm"],
                    answer: "The Attorney General",
                    explanation: "Sec. 33.04 explicitly gives this authority to the attorney general."
                },
                {
                    question: "A person accesses a DRE Voting Machine (33.05) and 'causes a vote that was not lawfully cast to be counted'. What is the penalty?",
                    options: ["State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree", "Felony of the First Degree"],
                    answer: "Felony of the First Degree",
                    explanation: "This act is listed in (b)(4), and the penalty under (d) is an F1."
                },
                {
                    question: "Which entity would likely be able to use the defense in 33.07(e) against a charge of Online Impersonation?",
                    options: ["A person who created a parody account.", "A telecommunications provider (ISP).", "A disgruntled ex-employee.", "A foreign government."],
                    answer: "A telecommunications provider (ISP).",
                    explanation: "Sec. 33.07(e) provides a defense for ISPs, social networking sites, etc., for conduct that is part of their normal operation."
                },
                {
                    question: "What is the definition of 'Commercial social networking site' in 33.07(f)?",
                    options: ["Any website on the Internet.", "Any site that requires a login.", "A business/entity operating a website that permits registered users to establish personal relationships.", "Only sites with over 1 million users."],
                    answer: "A business/entity operating a website that permits registered users to establish personal relationships.",
                    explanation: "Sec. 33.07(f)(1) provides this definition, and excludes email/message boards."
                },
                {
                    question: "What is 'Identifying information' (33.01(14-a))?",
                    options: ["It has the meaning assigned by Sec. 32.51.", "It is defined as only a person's name and SSN.", "It means any data on a computer.", "It is defined as a person's biometric data only."],
                    answer: "It has the meaning assigned by Sec. 32.51.",
                    explanation: "Sec. 33.01(14-a) incorporates the definition from Chapter 32 (Fraud)."
                },
                {
                    question: "Which of these is NOT a form of 'Access' under 33.01(1)?",
                    options: ["Store data in a computer.", "Retrieve data from a computer.", "Intercept data from a computer.", "Walking past a computer."],
                    answer: "Walking past a computer.",
                    explanation: "Sec. 33.01(1) requires 'making use of any resource', not just being near the device."
                },
                {
                    question: "What is the key difference between a 'Computer program' (33.01(6)) and 'Computer software' (33.01(9))?",
                    options: ["There is no difference.", "'Software' is a set of 'programs' plus procedures and documentation.", "'Program' is the physical hardware.", "'Software' is only for a network, 'program' is for one computer."],
                    answer: "'Software' is a set of 'programs' plus procedures and documentation.",
                    explanation: "Sec. 33.01(9) defines 'Computer software' as 'a set of computer programs, procedures, and associated documentation'."
                },
                {
                    question: "Consent is NOT effective if it is 'used for a purpose other than that for which the consent was given'. This is found in:",
                    options: ["33.01(12)(A)", "33.01(12)(C)", "33.01(12)(E)", "33.01(12)(B)"],
                    answer: "33.01(12)(E)",
                    explanation: "Sec. 33.01(12)(E) provides this specific limitation on consent."
                },
                {
                    question: "A person knowingly accesses a City Hall computer network without consent, but does not cause any damage or have intent to harm. What offense?",
                    options: ["Class B Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "No Offense"],
                    answer: "State Jail Felony",
                    explanation: "This is an offense under 33.02(a). Because the computer is owned by the 'government', the penalty is enhanced to an SJF under 33.02(b)(2)."
                },
                {
                    question: "A person accesses a bank's computer (a 'business') in violation of their user agreement, with intent to alter data. The aggregate loss is $500. What offense?",
                    options: ["Class C Misdemeanor", "Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony"],
                    answer: "Class B Misdemeanor",
                    explanation: "This is an offense under 33.02(b-1). The penalty under (b-2) for $500 is a Class B Misdemeanor."
                },
                {
                    question: "A 19-year-old solicits a 16-year-old to meet for sexual intercourse. The 16-year-old consents to the meeting. Is this a valid defense?",
                    options: ["Yes, consent is a defense.", "No, consent is not a defense to 33.021(c).", "Yes, because the actor is only 3 years older.", "No, but it is a defense that the meeting did not occur."],
                    answer: "No, consent is not a defense to 33.021(c).",
                    explanation: "Sec. 33.021(e) provides a defense if the actor is not more than three years older *and* the minor consented, but this applies to 'conduct described by Subsection (c)', which is the solicitation itself, not the underlying act. This is a complex area, but the solicitation itself is the offense."
                },
                {
                    question: "A person intentionally introduces ransomware (33.023) onto a computer with intent to defraud, but the victim only suffers $50 in loss. What is the penalty?",
                    options: ["Class C Misdemeanor", "Class B Misdemeanor", "Class A Misdemeanor", "State Jail Felony"],
                    answer: "Class C Misdemeanor",
                    explanation: "Sec. 33.023(d-1)(1) follows the theft ladder. $50 is 'less than $100', making it a Class C Misdemeanor."
                },
                {
                    question: "A person decrypts an attorney's files (privileged info) with intent to harm them, causing $1,000 in loss. What is the penalty under 33.024?",
                    options: ["Class A Misdemeanor", "State Jail Felony", "Felony of the Third Degree", "Felony of the Second Degree"],
                    answer: "State Jail Felony",
                    explanation: "The value of $1,000 is normally Class A. However, because it is 'Privileged Information', the penalty under (b-2)(1) is a minimum of a State Jail Felony."
                }
            ];


            // --- Shuffle and Load Quiz ---
            const quizContainer = document.getElementById('quiz-container');
            const checkAnswersBtn = document.getElementById('check-answers-btn');
            const retakeQuizBtn = document.getElementById('retake-quiz-btn');
            const quizResultsDiv = document.getElementById('quiz-results');
            const quizScoreEl = document.getElementById('quiz-score');
            const quizPercentageEl = document.getElementById('quiz-percentage');

            function loadQuiz() {
                // Shuffle the quiz data for a new order each time
                const shuffledQuizData = [...quizData].sort(() => Math.random() - 0.5);
                
                quizContainer.innerHTML = ''; // Clear previous questions
                
                shuffledQuizData.forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'quiz-question';
                    
                    // Store the original question index to check the answer later
                    const originalIndex = quizData.indexOf(q);
                    
                    // Use standard string concatenation and escape characters
                    let optionsHtml = '';
                    q.options.forEach(option => {
                        const escapedOptionValue = option.replace(/'/g, "&apos;").replace(/"/g, "&quot;");
                        const escapedOptionText = option.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                        optionsHtml += '<label class="block"><input type="radio" name="q' + index + '" value="' + escapedOptionValue + '" data-original-index="' + originalIndex + '" class="mr-2">' + escapedOptionText + '</label>';
                    });
                    
                    const escapedQuestion = q.question.replace(/</g, "&lt;").replace(/>/g, "&gt;");

                    questionDiv.innerHTML =
                        '<p class="font-semibold mb-2">' + (index + 1) + '. ' + escapedQuestion + '</p>' +
                        '<div class="space-y-2">' + optionsHtml + '</div>' +
                        '<div class="feedback hidden mt-2 p-2 rounded-lg text-sm"></div>';
                    
                    quizContainer.appendChild(questionDiv);
                });
            }

            loadQuiz(); // Initial load

            checkAnswersBtn.addEventListener('click', () => {
                let score = 0;
                const totalQuestions = quizData.length;
                const questions = quizContainer.querySelectorAll('.quiz-question');

                questions.forEach((questionDiv, index) => {
                    // Corrected the querySelector string here
                    const selected = questionDiv.querySelector('input[name="q' + index + '"]:checked'); 
                    const feedback = questionDiv.querySelector('.feedback');
                    const radioButtons = questionDiv.querySelectorAll('input[name="q' + index + '"]');
                    
                    feedback.classList.remove('hidden', 'correct', 'incorrect', 'unanswered');
                    
                    if (selected) {
                        const originalIndex = selected.dataset.originalIndex;
                        const q = quizData[originalIndex];
                        
                        const escapedAnswer = q.answer.replace(/'/g, "&apos;").replace(/"/g, "&quot;");
                        const escapedExplanation = q.explanation.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                        const escapedCorrectAnswerText = q.answer.replace(/</g, "&lt;").replace(/>/g, "&gt;");

                        if (selected.value === escapedAnswer) {
                            score++;
                            feedback.innerHTML = '<strong>Correct!</strong> ' + escapedExplanation;
                            feedback.classList.add('correct');
                        } else {
                            feedback.innerHTML = '<strong>Incorrect.</strong> The correct answer is "' + escapedCorrectAnswerText + '". ' + escapedExplanation;
                            feedback.classList.add('incorrect');
                        }
                    } else {
                        // Find the original question to show the answer
                        const firstRadio = questionDiv.querySelector('input[name="q' + index + '"]');
                         if (firstRadio) {
                            const originalIndex = firstRadio.dataset.originalIndex;
                            const q = quizData[originalIndex];
                            const escapedExplanation = q.explanation.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                            const escapedCorrectAnswerText = q.answer.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                            feedback.innerHTML = '<strong>Unanswered.</strong> The correct answer is "' + escapedCorrectAnswerText + '". ' + escapedExplanation;
                        } else {
                             feedback.innerHTML = '<strong>Error:</strong> Could not load feedback.';
                        }
                        feedback.classList.add('unanswered');
                    }
                    
                    feedback.classList.remove('hidden');
                    
                    radioButtons.forEach(radio => {
                        radio.disabled = true;
                    });
                });

                // Calculate and display results
                const percentage = ((score / totalQuestions) * 100).toFixed(0);
                quizScoreEl.textContent = 'Your Score: ' + score + ' / ' + totalQuestions;
                quizPercentageEl.textContent = 'Percentage: ' + percentage + '%';
                
                quizResultsDiv.classList.remove('hidden');
                checkAnswersBtn.classList.add('hidden');
                retakeQuizBtn.classList.remove('hidden');
            });

            retakeQuizBtn.addEventListener('click', () => {
                quizResultsDiv.classList.add('hidden');
                retakeQuizBtn.classList.add('hidden');
                checkAnswersBtn.classList.remove('hidden');
                loadQuiz();
            });

            // --- RESOURCES LIST ---
            const resources = [
                 { name: "Texas Penal Code - Official Site", url: "https://statutes.capitol.texas.gov/Default.aspx?Code=PE" },
                 { name: "Penal Code Ch. 33 - Computer Crimes", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm" },
                 { name: "Sec. 33.01 - Definitions", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.01" },
                 { name: "Sec. 33.02 - Breach of Computer Security", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.02" },
                 { name: "Sec. 33.021 - Online Solicitation of a Minor", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.021" },
                 { name: "Sec. 33.07 - Online Impersonation", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.33.htm#33.07" },
                { name: "Penal Code Sec. 32.51 - (Definition of Identifying Info)", url: "https://statutes.capitol.texas.gov/Docs/PE/htm/PE.32.htm#32.51" }
            ];
            const resourcesList = document.getElementById('resources-list');
            resources.sort((a, b) => a.name.localeCompare(b.name));
            resources.forEach(res => {
                const link = document.createElement('a');
                link.href = res.url;
                link.target = '_blank';
                link.rel = 'noopener noreferrer';
                link.className = 'text-red-600 hover:underline p-2 bg-gray-50 rounded-md block hover:bg-gray-100';
                link.innerHTML = '<i class="fas fa-external-link-alt mr-2"></i>' + res.name;
                resourcesList.appendChild(link);
            });
        });
    </script>
</body>
</html>

